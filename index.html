<!DOCTYPE html>
<html lang="en">

<head>

    <link
            href="NavalBattleStyle.css" type="text/css" rel="stylesheet"
    >
    <link rel="shortcut icon" href="Content/slogosb.png" type="image/x-icon">
    <script src="NewNavalBattle.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <style>
        @font-face {
            font-family: "Star Jedi";
            src: local("Star Jedi");
            src: url("https://get.fontspace.co/download/font/A4lL/OGYzMWMyNDE3ZDYwNGRhNGI3ZDFmOTAxYzgyMjMzMWUudHRm/StarJediHollow-A4lL.ttf")format('truetype');
font-style: normal;
            font-weight: normal;
        }
    </style>
    <meta charset="UTF-8">
    <title>Space Battle</title>

</head>

<body>
<div class="header-container">
<img src="Content/slogosb.png" alt="logo" id="small-logo">
<h1 class="main-header">Space battle</h1>
</div>
<div id="wrapper-block">

    <div class="game-panel" id="first-game-panel">
    <div class="squares-wrapper" id="first-squares-wrapper">
    </div>
    </div>

    <div class="game-panel" id="second-game-panel">
     <div class="squares-wrapper" id="second-squares-wrapper">
    </div>
    </div>

    <script id="fill-game-fields">


        window.onload = function() {
            var firstSquareWrapper = document.getElementById("first-squares-wrapper");
            var secondSquareWrapper = document.getElementById("second-squares-wrapper");
            var allClickableSquares = [];

function fillFirstPanel() {
            for(var i=0; i<100; i++) {
                let square = document.createElement("div");
                square.classList.add("square");

                switch(humanField.battleField[i]) {
                    case "@": square.classList.add("incognito");
                        break;
                    case "#": square.classList.add("ship");
                        break;
                    case 'X': square.classList.add("hit");
                        break;
                    case "*": square.classList.add("empty");
                        break;
                    default:
                        break;
                }
                firstSquareWrapper.appendChild(square);
            }
}

fillFirstPanel();

            for(i=0; i<100; i++) {
                let square = document.createElement("div");
                square.classList.add("square");
                allClickableSquares.push(square);
                square.addEventListener("click",
                    function (event) {
                    let index = allClickableSquares.indexOf(event.target);
                    humanField.humanAttack(index);
                    humanField.changeClass(square, index, humanGuessField);
                    $('.squares-wrapper#first-squares-wrapper').empty();
                    fillFirstPanel();
                });

                switch(humanGuessField.battleField[i]) {
                    case "@": square.classList.add("incognito");
                        break;
                    case "#": square.classList.add("ship");
                        break;
                    case "X": square.classList.add("hit");
                        break;
                    case "*": square.classList.add("empty");
                        break;
                    default:
                        break;
                }
                secondSquareWrapper.appendChild(square);
            }
        };

    /*    $('#second-game-panel *').click(function () {
            alert($(this).index());
            let index = $(this).index();
            humanField.humanAttack(index);
            humanField.changeClass(square, index, humanGuessField);
            $('.square-wrapper#first-square-wrapper').empty();
            fillFirstPanel();
        })
*/


</script>

<!--

<div id="log">
    <div class="res"></div>
</div>
-->

</div>
<!--
<footer>

</footer>-->

</body>
</html>

