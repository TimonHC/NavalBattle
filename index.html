<!DOCTYPE html>
<html lang="en">

<head>

    <link href="NavalBattleStyle.css" type="text/css" rel="stylesheet">
    <link href="Content/fonts/StarJedi-DGRW.ttf">
    <link rel="shortcut icon" href="Content/images/slogosb.png" type="image/x-icon">
    <script src="NewNavalBattle.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <meta charset="UTF-8">
    <title>Space Battle</title>

</head>

<body>
<audio id="music" src="https://souts.ru/download/XC9cL1NvdXRzLnJ1XC9zdHJlYW1cL215bVwvYUhSMGNITTZMeTl0YjI5emFXTXViWGt1YldGcGJDNXlkUzltYVd4bEwyWm1NMkptWkRNME5EUmhOakZtTnpJeU5tTXlNV0ppTkRNd016UXlOamxrTG0xd013PT0=/imfinenowAnotherWorld"
  loop>
</audio>
<div class="header-container">
<img src="Content/images/slogosb.png" alt="logo" id="small-logo">

<h1 class="main-header">Space battle</h1>
</div>

<div id="wrapper-block">

    <div class="squares-wrapper" id="first-squares-wrapper">
    </div>

     <div class="squares-wrapper" id="second-squares-wrapper">
    </div>

    <script id="init-game-onload">


        window.onload = function() {
            var firstSquareWrapper = document.getElementById("first-squares-wrapper");
            var secondSquareWrapper = document.getElementById("second-squares-wrapper");
            var music = document.getElementById('music');
            music.volume = 0.25;
            $('body').on('click', function () {
                music.play();
            });

function fillFirstPanel() {
            for(var i=0; i<100; i++) {
                let square = document.createElement("div");
                square.classList.add("square");

                switch(humanField.battleField[i]) {
                    case "@": square.classList.add("incognito");
                        break;
                    case "#": square.classList.add("ship");
                        break;
                    case 'X': square.classList.add("hit");
                        break;
                    case "*": square.classList.add("empty");
                        break;
                    default:
                        break;
                }
                firstSquareWrapper.appendChild(square);
            }
}

fillFirstPanel();

            for(i=0; i<100; i++) {
                let square = document.createElement("div");
                square.classList.add("square");

                square.addEventListener("click",
                    function (event) {
                    let index = $(this).index();
                    humanField.humanAttack(index);
                    humanField.changeClass(square, index, humanGuessField);
                    $('#first-squares-wrapper').empty();
                    fillFirstPanel();
                });

                switch(humanGuessField.battleField[i]) {
                    case "@": square.classList.add("incognito");
                        break;
                    case "#": square.classList.add("ship");
                        break;
                    case "X": square.classList.add("hit");
                        break;
                    case "*": square.classList.add("empty");
                        break;
                    default:
                        break;
                }
                secondSquareWrapper.appendChild(square);
            }
        };

/*
        $('#second-squares-wrapper *').click(function () {
            alert($(this).index());
            let index = $(this).index();
            humanField.humanAttack(index);
            humanField.changeClass(square, index, humanGuessField);
            $('#first-square-wrapper').empty();
            fillFirstPanel();
        })
*/


</script>

<!--

<div id="log">
    <div class="res"></div>
</div>
-->

</div>
<!--
<footer>

</footer>-->

</body>
</html>

